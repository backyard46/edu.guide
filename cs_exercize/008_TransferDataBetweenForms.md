# 概要
ITSS準拠の研修カリキュラム「プログラミングの基礎」の中で、フォーム間のデータ授受を扱う場合の補足情報として提示、説明するサンプルと課題です。

---

# サンプルソース概略
プロジェクト「FormDataReceiveSample」は、フォーム間で情報を受け渡しする際の実装サンプルです。親フォームと、その配下に5つのフォームが用意されています。

基本的な仕様は下記の通りです。まずはサンプルと挙動を見て、2つのフォームの間で文字列を渡したり、受け取ったりする方法について理解してください。

- ParentFormで入力された文字列は、子フォームで表示される。
- 子フォームで表示された文字列は編集でき、編集の有無にかかわらず子フォームが閉じられる際に親フォームに戻される。
- 子フォームが閉じた後、親フォームには子フォームから受け取った文字列を表示する。

親フォーム、子フォーム間で文字列をやりとりする方法は様々あるため、ここでは5通りの方法を親フォームに用意されたボタンで選べるようになっています。

## ParentFormフォーム
親フォームです。このフォームには「子フォームに渡す文章」テキストボックスと、子フォームに文字列を渡す方法が異なる5つのボタン。子フォームで編集された文字列を表示する「子フォームからの文章」テキストボックスが用意されています。
各ボタンと子フォームへの情報伝達方法は下記の通りです。

- プロパティで渡す（推奨）ボタン …… 子フォームに文字列プロパティ（読み書き可能）を用意し、親フォームは子フォームのプロパティに文字列を書き込む。また、親フォームは子フォームのプロパティから編集後の文字列を読み取る。
- コンストラクターで渡す（推奨）ボタン …… 子フォームのコンストラクターに文字列を指定できるようにし、親フォームから子フォームへの文字列伝達はコンストラクターの引数を介して行う。親フォームは子フォームのプロパティから編集後の文字列を読み取る。
- 親の情報を取りに来る（変則）ボタン …… 親フォーム、子フォームそれぞれに文字列プロパティ（読み書き可能）を用意し、子フォームは親フォームのプロパティから文字列を読み取り、また、親フォームは子フォームのプロパティから編集後の文字列を読み取る。子フォームから親のプロパティに到達できるよう、子フォーム生成時に親フォーム自体の所在を引き渡す。
- ShowDialog拡張（変則）ボタン …… フォームをダイアログモードで開く「ShowDialog」メソッドのオーバーロードを追加追加し、ShowDialogの引数で文字列を親から子へ渡せるようにする。親フォームは子フォームに用意されたプロパティを介して編集後の文字列を取得する。
- Public変数で渡す（非推奨）ボタン …… 子フォームにPublic宣言したstring変数を用意し、どこからでも読み書き可能にしておく。親フォームは子フォームのPublic変数を介して文字列をやりとりする。


## ChildForm1フォーム
- 読み書き可能なプロパティ「Message」を持ち、親フォームからこのプロパティを通して初期表示する文字列を受け取る。
- フォームクローズ処理で、フォーム上のテキストボックス文字列をプロパティとして保存、親フォームからのプロパティ読み取りに備える。

## ChldForm2フォーム
- コンストラクターに文字列引数を持ち、親フォームからフォームのインスタンス生成時に初期表示用文字列を受け取る。
- 読み取り専用プロパティ「Message」を持つ。フォームクローズ後、親フォームからこのプロパティを読み取る。

## ChildForm3フォーム
- 親フォームにプロパティを用意し、子フォームから親フォームのプロパティを読み書きする。
- 子フォームから親フォームにアクセスするために、子フォームには親フォームへの参照情報（Formオブジェクト）を保持させる。

## ChildForm4フォーム
- 子フォームから情報を読み出す方法はChildForm1と同じ。
- 親から子にメッセージを伝える手段として、子フォームのShowDialogに引数を追加したオーバーロードを定義してそれを利用する。

## ChildForm5フォーム
これは、できるけれどやってはいけないパターン
- 子フォームにPublicな変数を用意し、親フォームから読み書き可能にする。
- 読み書きのタイミングはChildForm1の場合と同等。

---

# 課題

## 事前準備

サンプルプロジェクトがあるソリューションに新しいプロジェクトを追加し、C#のWindows Formプロジェクトを作成してください。

---
## 課題1 都道府県選択入力欄画面の作成
親フォームと子フォーム間での情報連携処理を実際に自分で作ってみます。

### 課題説明
何かの利用者登録画面で、住所を入力する機能を作る想定で下記の要件を満たすプログラムを作ってください。

- フォームを2つ用意し、それぞれ親フォーム、子フォームとします。
- 親フォームには都道府県を表示する欄と、都道府県選択ボタンを配置します。
- 都道府県選択ボタンを押すと、子フォームが表示されます。
- 子フォームには都道府県を選択するコンボボックスと、確定ボタン、キャンセルボタンを配置します。
- 子フォームの確定ボタンが押されると、子フォームは閉じられ、その時点で選択されている都道府県名が都道府県表示欄に表示された状態で親フォームが表示されます。
- 子フォームのキャンセルボタンが押されると、子フォームは閉じられますが、子フォームで選択されている都道府県名は無視され、親フォームが元の状態で表示されます。


---
## 課題2 都道府県、市区町村選択機能の作成
2つのコンボボックスの選択状態と選択肢を連動させるプログラミングの練習です。

### 課題説明
新しいプロジェクトをソリューションに追加し、課題1と同等のものを用意してください。そこに、下記の変更を加えてください。

- 親フォームに市区町村を表示する欄を追加してください。
- 子フォームに市区町村コンボボックスを追加してください。
- 子フォームの都道府県コンボボックスの選択状態が切り替えられると、その都道府県に対応した市区町村が市区町村コンボボックスの選択肢として設定されるようにしてください。
- 都道府県と市区町村が選択された状態で子フォームの確定ボタンが押されると、子フォームは閉じられ、選択された都道府県と市区町村の名称が表示された状態で親フォームが表示されます。
- 子フォームのキャンセルボタンが押されると、子フォームは閉じられますが、子フォームで選択されている都道府県と市区町村は無視され、親フォームが元の状態で表示されます。

---
## 課題3 親フォームの選択状態を子フォームに引きつぐ

### 課題説明


---